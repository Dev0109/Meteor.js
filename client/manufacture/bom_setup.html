<template name="bom_setup">
    <div class="container-fluid salesmodule" style="padding-right: 0px; padding-left: 0px">
        <div class="fullScreenSpin" style="display: none;">
            <div class="spinner">
            </div>
        </div>
        <div style="position: absolute; top: 0; left: 0; bottom: 0; right: 0; background-color: #ededed; z-index: -1;"></div>
        <div style="margin-top: 24px">
            <header style="padding: 16px; padding-bottom: 1px; background-color: #ededed;">
                <h2 style="margin: 16px;">BOM Set up {{> helpbutton}}
                </h2>
            </header>
            <div style="padding: 0px 12px;">
                <div class="col-12 col-xl-10 col-xxl-8 mx-auto">
                    <div class="card shadow mb-4">
                        <!-- <div class="card-body p-3 rounded" id="bom-setup-card">
                            <form>
                                <style>
                                    .productRow {
                                        margin-bottom: 0.5rem;
                                        gap: 0.5%;
                                    }
                    
                                    .productRow .colProduct{
                                        width: 34.5%;
                                        gap: 5px;
                                        text-align: left;
                                    }
                    
                                    .productRow .colNote {
                                        width: 19%;
                                        text-align: left;
                                    }
                                    .productRow .colQty {
                                        width: 10%;
                                        text-align: left;
                                    }
                                        .productRow .colDelete {
                                        width: 4%;
                                        text-align: left;
                                    }
                    
                                    .productRow .colProcess {
                                        width: 14%;
                                        text-align: left;
                                    }
                    
                                    .productRow .colAttachment {
                                        width: 18%;
                                        text-align: left;
                                    }
                    
                                    div.form-group {
                                        margin-bottom: 0;
                                    }
                    
                    
                    
                                </style>
                                <div class="d-flex productRow">
                                    <div class="th colProduct">Product</div>
                                    <div class="th colQty">Qty</div>
                                    <div class="th colProcess">Process</div>
                                    <div class="th colNote">Notes</div>
                                    <div class="th colAttachment"></div>
                                    <div class="th colDelete"></div>
                                </div>
                                <div class="product-content">
                                    <div class="d-flex productRow">
                                        <div class="colProduct form-group d-flex">
                                            <select class="edtMainProductName form-control" id="edtMainProductName"  style="width: 60%"></select>
                                        </div>
                                        <div class="colQty form-group">
                                            <input type="text" class="edtQuantity form-control w-100" value="1" disabled/>
                                        </div>
                                        <div class="colProcess form-group">
                                            <select type="search" id="edtProcess" class="edtProcessName form-control w-100" name="edtProcess"></select>
                                        </div>
                                        <div class="colNote form-group">
                                            <input type="text" class="edtProcessNote form-control w-100"/>
                                        </div>
                                        <div class="colAttachment">
                                            
                                            <a class="btn btn-primary btnAddAttachment" role="button"  data-toggle="modal" href="#myModalAttachment" id="btn_Attachment" name="btn_Attachment">
                                                {{#if attachmentCount}}<span id="attachment-count">{{attachmentCount}}</span>{{/if}} <i class="fa fa-paperclip" style="padding-right: 8px;"></i>Add Attachments</a>
                                            <div class="attachedFiles d-none"></div>
                                        </div>
                                        <div class="colDelete"></div>
                                    </div>
                                </div>
                                <div class="product-content">
                                    <div class="d-flex productRow">
                                        <div class="colProduct form-group d-flex">
                                            <button class="btn btn-primary btnAddProduct" style="width: 29%;">Product+</button>
                                        </div>
                                        <div class="colQty form-group">
                                        </div>
                                        <div class="colProcess form-group">
                                        </div>
                                        <div class="colNote form-group">
                                        </div>
                                        <div class="colAttachment form-group"></div>
                                        <div class="colDelete"></div>
                                    </div>
                                </div>
                            </form>
                        </div> -->
                        {{> bom_template}}
                        <div class="card-footer p-3 rounded d-flex align-items-center justify-content-center px-3" style="border-top-width: 0px; gap: 15px " >
                            <button class="btn btn-success btn-save-bom" type="button"><i class="fa fa-save" style="padding-right: 8px;"></i>Save</button>
                            <button class="btn btn-primary btn-print-bom" type="button"><i class="fa fa-print" style="padding-right: 8px;"></i>Print</button>
                            <button class="btn btn-secondary btn-cancel-bom" type="button"><i class="fa fa-remove" style="padding-right: 8px;"></i>Cancel</button>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>

    <style>

        .file-display .fileIocns i.fa.fa-file {
            color: rgb(252, 181, 38);
            font-size: 24px;
        }

        .file-display {
            padding: 0;
            margin: 0;
        }

        .uploaded-element {
            display: inherit;
        }

        .uploaded-element {

            border: 1px solid rgb(237, 237, 237);
            border-top: none;

            float: left;
            width: 100%;
            display: flex;
            align-items: center;
            padding: 1rem;
        }

        .uploaded-element-header {
            border: 1px solid rgb(237, 237, 237);
            border-top: none;
            float: left;
            width: 100%;
            display: flex;
            align-items: center;
            padding: 10px;
            background: #e3e6f0;
        }

        .uploaded-element .confirm-action a.confirm-delete-attachment {
            padding: 6px 13px 5px;
            background-color: rgb(216, 68, 68) !important;
            border-color: rgb(197, 112, 119) rgb(169, 29, 29) rgb(169, 29, 29) rgb(197, 112, 119);
            color: rgb(255, 255, 255) !important;
            text-shadow: 1px 1px 1px rgba(30, 30, 30, 0.15);
            line-height: initial;
            font-size: 12px;
            float: left;
        }

        .file-display .fileIocns {
            background-image: url(img/file_icons-samall.png);
            background-repeat: no-repeat;
            background-position: 0 -105px;
        }

        .file-display .fileIocns {
            float: left;
            margin-right: 10px;
        }

        .file-name {
            float: left;
            width: 87%;
        }
        
        button.save-to-library {
            padding: 6px 13px 5px;
            border-radius: 4px;
            background: linear-gradient(rgb(255, 255, 255), rgb(230, 234, 236));
            border: 1px solid rgb(230, 230, 230);
            border-color: rgb(230, 230, 230) rgb(179, 179, 179) rgb(179, 179, 179) rgb(230, 230, 230) !important;
            color: rgb(204, 0, 0) !important;
            font-weight: bold;
            margin-left: 10px !important;
            font-size: 12px;
        }
    </style>

    <div class="modal fade" role="dialog" tabindex="-1" id="myModalAttachment">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Upload Attachments</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
                </div>
                <div class="modal-body" style="padding: 0px;">
                    <div class="divTable file-display" >
                 
                        <div class="col inboxcol1">
                            <img src="/icons/nofiles_icon.jpg" class="" style="width:100%;">
                        </div>
                        <div class="col inboxcol2" style="text-align: center;">
                            <div>Upload files or add files from the file library.</div>
                            {{#if isMobileDevices}}
                                <div>Capture copies of receipt's or take photo's of completed jobs.</div>
                            {{/if}}
                            <p style="color: #ababab;">Only users with access to your company can view these files</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">

                    {{#if isMobileDevices}}
                        <input type="file" class="img-attachment-upload" id="img-attachment-upload" style="display:none" accept="image/*" capture="camera">
                        <button class="btn btn-primary btnUploadFile img_new_attachment_btn" type="button"><i class="fas fa-camera" style="margin-right: 5px;"></i>Capture</button>

                        <input type="file" class="attachment-upload" id="attachment-upload" style="display:none" multiple accept=".jpg,.gif,.png">
                    {{else}}
                        <input type="file" class="attachment-upload" id="attachment-upload" style="display:none" multiple accept=".jpg,.gif,.png,.bmp,.tiff,.pdf,.doc,.docx,.xls,.xlsx,.ppt,
                               .pptx,.odf,.csv,.txt,.rtf,.eml,.msg,.ods,.odt,.keynote,.key,.pages-tef,
                               .pages,.numbers-tef,.numbers,.zip,.rar,.zipx,.xzip,.7z,image/jpeg,
                               image/gif,image/png,image/bmp,image/tiff,application/pdf,
                               application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,
                               application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,
                               application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,
                               application/vnd.oasis.opendocument.formula,text/csv,text/plain,text/rtf,message/rfc822,
                               application/vnd.ms-outlook,application/vnd.oasis.opendocument.spreadsheet,
                               application/vnd.oasis.opendocument.text,application/x-iwork-keynote-sffkey,
                               application/vnd.apple.keynote,application/x-iwork-pages-sffpages,
                               application/vnd.apple.pages,application/x-iwork-numbers-sffnumbers,
                               application/vnd.apple.numbers,application/zip,application/rar,
                               application/x-zip-compressed,application/x-zip,application/x-7z-compressed">
                    {{/if}}
                    <button class="btn btn-primary btnUploadFile new_attachment_btn" type="button"><i class="fa fa-cloud-upload" style="margin-right: 5px;"></i>Upload</button>
                    <button class="btn btn-success closeModal" data-dismiss="modal" type="button" style="margin-right: 5px;" autocomplete="off">
                        <i class="fa fa-save" style="padding-right: 8px;"></i>Save
                    </button>
                    <button class="btn btn-secondary" data-dismiss="modal" type="button"><i class="fa fa-remove" style="margin-right: 5px;"></i>Close</button>
                </div>
            </div>
        </div>
    </div>
    
</template>